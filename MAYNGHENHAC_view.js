(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(e=s.currentScript.src),!e)){var n=s.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../../"})();const e=window.React,s=window.ReactJSXRuntime,n=({attributes:t,id:n})=>{const{width:r,height:i,posterHeight:l,align:a,alignment:o,brandColor:c,bgColor:p,hoverBgColor:d,textColor:u,hoverTextColor:h,evenBgColor:y,oddBgColor:v}=t,[m,f]=(0,e.useState)("");return(0,e.useEffect)((()=>{const t="object"==typeof r?`${r.number}${r.unit}`:r,e="object"==typeof i?`${i.number}${i.unit}`:i,s="object"==typeof l?`${l.number}${l.unit}`:l,a=`\n    #${n} {\n      display: flex;\n      justify-content: ${o}\n    }\n    #${n} .bluePlaylist {\n      overflow: hidden;\n      width: ${t}; \n      height: ${e};\n      max-width: 100%;\n      max-height: ${e}\n    }\n    #${n} .right{\n      height: ${e}\n    }\n    #${n} .bluePlaylist .left img {\n      height: ${s}\n    }\n    #${n} .plyr {\n      --plyr-color-main: ${c}\n    }\n    #${n}.hextensive-custom .hsong-item:nth-child(even) {\n      background-color: ${y};\n    }\n    #${n}.hextensive-custom .hsong-item:nth-child(odd) {\n      background-color: ${v};\n    }\n    #${n}.hextensive-custom .hsong-item:hover,\n    #${n}.hextensive-custom .hsong-item.item-active  {\n      color: ${h};\n    }\n    #${n}.hextensive-custom .hsong-item,\n    #${n}.hextensive-custom .hsong-item  {\n      color: ${u};\n    }\n    #${n} .plyr {\n      --theme-custom-bg: ${p};\n      --theme-custom-color: ${u};\n      --theme-custom-hover-bg: ${d};\n      --theme-custom-hover-color: ${h};\n      --plyr-color-main: ${c};\n    };\n    `.replace(/\s+/g," ").trim();f(a)}),[n,r,i,l,a,o,c,p,d,u,h,y,v]),(0,s.jsx)("style",{children:m})},r=class{constructor(t,e){this.player=t,this.audios=e,t.elements.container&&(this.shuffle=!1,this.repeat=!1,this.playlistItems=t.elements.container?.querySelectorAll('[data-plyr="playlist-item"]')||[],this.playlistTitle=t.elements.container.querySelector('[data-plyr="playlist-title"]'),this.playlistArtist=t.elements.container.querySelector('[data-plyr="playlist-artist"]'),this.playlistCover=t.elements.container.querySelector('[data-plyr="playlist-cover"]'),this.playlistSeeMoreItems=t.elements.container.querySelector('[data-plyr="playlist-see-more-items"]'),this.nextButton=t.elements.container.querySelector('[data-plyr="next"]'),this.prevButton=t.elements.container.querySelector('[data-plyr="prev"]'),this.seeMoreButton=t.elements.container.querySelector('[data-plyr="see-more"]'),this.shuffleButton=t.elements.container.querySelector('[data-plyr="shuffle"]'),this.repeatButton=t.elements.container.querySelector('[data-plyr="repeat"]'),this.currentIndex=0,this.setupEventListeners(),this.setItemsDuration())}setupEventListeners(){this.playlistItems.forEach(((t,e)=>{t.addEventListener("click",(()=>{this.switchToAudio(e)}))})),this.player.on("ended",(()=>{this.next()})),this.nextButton?.addEventListener("click",(()=>{this.next()})),this.prevButton?.addEventListener("click",(()=>{this.prev()})),this.player.on("play",(()=>{this.playlistItems.forEach(((t,e)=>{e===this.currentIndex?t.classList.add("item-playing"):t.classList.remove("item-playing")}))})),this.player.on("pause",(()=>{this.playlistItems.forEach(((t,e)=>{this.currentIndex,t.classList.remove("item-playing")}))})),this.seeMoreButton?.addEventListener("click",(()=>{this.playlistSeeMoreItems.classList.contains("hidden")?(this.playlistSeeMoreItems.classList.remove("hidden"),this.seeMoreButton.classList.remove("rotate-180")):(this.playlistSeeMoreItems.classList.add("hidden"),this.seeMoreButton.classList.add("rotate-180"))})),this.player.on("ready",(()=>{this.switchToAudio(this.currentIndex,!1)})),this.handleRepeat(),this.handleShuffle()}handleShuffle(){this.shuffleButton?.addEventListener("click",(()=>{this.shuffle=!this.shuffle,this.shuffle?this.shuffleButton.classList.add("active"):this.shuffleButton.classList.remove("active")}))}handleRepeat(){this.repeatButton?.addEventListener("click",(()=>{this.repeat=!this.repeat,this.repeat?this.repeatButton.classList.add("active"):this.repeatButton.classList.remove("active")}))}switchToAudio(t,e=!0){if(t<0||t>=this.audios.length)return;if(this.currentIndex===t&&e)return void(this.player.playing?this.player.pause()?.catch((t=>{console.error("Error playing audio:",t)})):this.player.play()?.catch((t=>{console.error("Error playing audio:",t)})));this.currentIndex=this.shuffle?Math.floor(Math.random()*this.audios.length):t;const s=this.audios[t].source;s&&this.player.elements.container.querySelector("audio")&&(this.player.elements.container.querySelector("audio").src=s,this.playlistTitle&&(this.playlistTitle.textContent=this.audios[this.currentIndex].title),this.playlistArtist&&(this.playlistArtist.textContent=this.audios[this.currentIndex].artist),this.playlistCover&&(this.playlistCover.src=this.audios[this.currentIndex].poster),this.playlistItems.forEach(((t,e)=>{e===this.currentIndex?t.classList.add("item-active"):t.classList.remove("item-active")})),e&&this.player.play()?.catch((t=>{console.error("Error playing audio:",t)})))}next(){this.switchToAudio((this.currentIndex+1)%this.audios.length)}prev(){this.switchToAudio((this.currentIndex-1+this.audios.length)%this.audios.length)}setItemsDuration(){this.playlistItems.forEach(((t,e)=>{const s=document.createElement("audio");t.querySelector(".duration")&&(s.src=this.audios[e]?.source,s.addEventListener("loadedmetadata",(()=>{var e,n,r,i,l;t.querySelector(".duration").innerText=(e=s.duration,l=(n=parseInt(e,10))-3600*(r=Math.floor(n/3600))-60*(i=Math.floor((n-3600*r)/60)),r<10&&(r="0"+r),i<10&&(i="0"+i),l<10&&(l="0"+l),i+":"+l)})))}))}},i=t.p+"images/sticky-default.dc1095b9.jpg",l=(t=[],e={})=>`\n      <div class="playlist_container hextensive">\n          <div class="plyr__controls controls left">\n              <img class="poster" data-plyr="playlist-cover" src="${t[0]?.poster||i}" alt="">\n              <div class="plyr_controls">\n              <div class="progressbar plyr__controls">\n                  <div class="plyr__time plyr__time--current" aria-label="Current time">00:00</div>\n                  <div class="plyr__progress">\n                      <input data-plyr="seek" type="range" min="0" max="100" step="0.01" value="0" aria-label="Seek">\n                      <progress class="plyr__progress__buffer" min="0" max="100" value="0">% buffered</progress>\n                      <span role="tooltip" class="plyr__tooltip">00:00</span>\n                  </div>\n                  <div class="plyr__time plyr__time--duration" aria-label="Duration">00:00</div>\n              </div>\n              <div class="main-controls plyr__controls">\n                  <div class="repeat-shuffle" >\n                      <span class="plyr__control" data-plyr="shuffle"><svg class="icon">\n                      <use xlink:href="#shuffle"></use>\n                      </svg></span>\n                      <span class="plyr__control" active="false" data-plyr="repeat"><svg class="icon">\n                      <use xlink:href="#exchange"></use>\n                      </svg></span>\n                  </div>\n                  <div class="re-ply-fast">\n                      <button type="button" class="plyr__control" data-plyr="prev">\n                          <svg role="presentation"><use xlink:href="#plyr-rewind"></use></svg>\n                          <span class="plyr__tooltip" role="tooltip">Rewind {seektime} secs</span>\n                      </button>\n                      <button type="button" class="plyr__control" aria-label="Play, {title}" data-plyr="play">\n                          <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-pause"></use></svg>\n                          <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-play"></use></svg>\n                          <span class="label--pressed plyr__tooltip" role="tooltip">Pause</span>\n                          <span class="label--not-pressed plyr__tooltip" role="tooltip">Play</span>\n                      </button>\n                      <button type="button" class="plyr__control" data-plyr="next">\n                          <svg role="presentation"><use xlink:href="#plyr-fast-forward"></use></svg>\n                          <span class="plyr__tooltip" role="tooltip">Forward {seektime} secs</span>\n                      </button>\n                  </div>\n                  <div class="volume">\n                      <button type="button" class="plyr__control" aria-label="Mute" data-plyr="mute">\n                          <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-muted"></use></svg>\n                          <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-volume"></use></svg>\n                          <span class="label--pressed plyr__tooltip" role="tooltip">Unmute</span>\n                          <span class="label--not-pressed plyr__tooltip" role="tooltip">Mute</span>\n                      </button>\n                      <div class="plyr__volume">\n                          <input data-plyr="volume" type="range" min="0" max="1" step="0.05" value="1" autocomplete="off" aria-label="Volume">\n                      </div>\n                  </div>\n              </div>\n            </div>\n              <div class="plyr__meta">\n                  <h2 class="title" data-plyr="playlist-title">${t[0]?.title}</h2>\n                  <h3 class="artist" data-plyr="playlist-artist">${t[0]?.artist}</h3>\n              </div>\n          </div>\n                  <div class="right">\n                  ${t.map((({title:t,artist:s,source:n},r)=>`<div class="hsong-item plyr__controlss ${0===r?"item-active":""}"  data-index="${r}" data-audio-item data-plyr="playlist-item">\n                              <span class="ply_icon">\n                                  <button type="button" class="plyr__control" aria-label="Play, {title}">\n                                      <svg class="icon--pressed" role="presentation">\n                                          <use href="#plyr-pause"></use>\n                                      </svg>\n                                      <svg class="icon--not-pressed" role="presentation">\n                                          <use href="#plyr-play"></use>\n                                      </svg>\n                                  </button>\n                              </span>\n                              <div class="meta-data">\n                                  <h3 class="title">${t||""}</h3>\n                                  <span class="singer">${s||""}</span>\n                              </div>\n                              <span class="time duration">00:00</span>\n                              ${e?.hide_download?"":`<a class="plyr__controls__item plyr__control" target="_blank" download href="${n}" data-plyr="download"><svg aria-hidden="true" focusable="false"><use xlink:href="#plyr-download"></use></svg><span class="plyr__sr-only">Download</span></a>`}\n                          </div>`)).join("")}\n                  </div>\n          </div>`,a=({attributes:t,id:i})=>{const{theme:a,audios:o}=t,c=(0,e.useRef)();return(0,e.useEffect)((()=>{const t=new Plyr(c.current.querySelector("audio"),{controls:l(o,{hide_download:!0})});return new r(t,o),()=>{t?.destroy()}}),[o]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n,{attributes:t,id:i}),(0,s.jsx)("div",{className:`bluePlaylist hextensive-${a.toLowerCase()} `,ref:c,children:(0,s.jsx)("audio",{})})]})},{createRoot:o}=ReactDOM;document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".wp-block-h5ap-playlistextensive").forEach((t=>{const e=JSON.parse(t.dataset.attributes),n=t.dataset.id;o(t).render((0,s.jsx)(a,{attributes:e,id:n})),t.removeAttribute("data-attributes"),t.removeAttribute("data-id")}))}))})();